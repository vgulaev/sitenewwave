// Generated by CoffeeScript 1.6.3
(function() {
  var show_basket, show_price;

  show_basket = function() {
    $("#pTableContentTab").hide();
    $("#basketDiv").show();
    $("#showBasketSpan").hide();
    $("#showPriceSpan").show();
    return 0;
  };

  show_price = function() {
    $("#pTableContentTab").show();
    $("#basketDiv").hide();
    $("#showBasketSpan").show();
    $("#showPriceSpan").hide();
    return 0;
  };

  $(document).ready(function() {
    $("#tabBasket").click(function() {
      show_basket();
      return 0;
    });
    $("#tabPrice").click(function() {
      show_price();
      return 0;
    });
    $("#itemName").autocomplete({
      source: "/1cengine/py_scripts/item_autocomplete.py",
      autoFocus: true,
      minLength: 0,
      select: function(event, ui) {
        $(this).val(ui.item.label);
        $(this).change();
        $(this).blur();
        return $(this).click();
      }
    }, 0).click(function() {
      return $(this).autocomplete("search", $(this).val());
    });
    return $("#itemName").change(function() {
      var value;
      $("#groupDiv").hide();
      value = $("#itemName").val();
      value = value.replace("+", " ");
      return $.ajax({
        type: "GET",
        url: "/1cengine/py_scripts/get_items_bs.py",
        async: false,
        data: "term=" + encodeURIComponent(value) + "",
        success: function(html) {
          $("#qRes").html(html);
          if ($(".item").length >= 1) {
            $("#tags").hide();
            $("#showGroupsDiv").show();
            $("#hollowResult").empty();
          } else {
            $("#hollowResult").html("Извините, но по заданному запросу товар не найден");
            $("#tags").show();
            $("#showGroupsDiv").hide();
          }
          if ($(".item").length === 20) {
            return $("#showAll").show();
          } else {
            return $("#showAll").hide();
          }
        }
      });
    });
  });

}).call(this);
